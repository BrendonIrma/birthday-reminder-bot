# REST API Документация - Birthday Bot

## 1. Получение всех дней рождения пользователя

**GET /v1/users/{userId}/birthdays**

Получение всех дней рождения определенного пользователя

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| userId | int | path | Уникальный идентификатор пользователя (chat_id) | да |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| userId | int | body | Уникальный идентификатор пользователя | да |
| birthdays | array | body | Массив дней рождения | да |
| birthday | object | body | Объект дня рождения | нет |
| id | int | body | Уникальный идентификатор дня рождения | да |
| name | string | body | Имя человека | да |
| birth_date | string | body | Дата рождения (YYYY-MM-DD) | да |
| info | string | body | Дополнительная информация о человеке | нет |
| created_at | string | body | Дата создания записи | да |
| updated_at | string | body | Дата последнего обновления | да |

**Response code: 200**

---

## 2. Добавление нового дня рождения

**POST /v1/users/{userId}/birthdays**

Добавление нового дня рождения для пользователя

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| userId | int | path | Уникальный идентификатор пользователя (chat_id) | да |
| name | string | body | Имя человека | да |
| birth_date | string | body | Дата рождения (YYYY-MM-DD) | да |
| info | string | body | Дополнительная информация о человеке | нет |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| success | boolean | body | Статус операции | да |
| birthday_id | int | body | Уникальный идентификатор созданного дня рождения | да |
| message | string | body | Сообщение о результате операции | да |

**Response code: 201**

---

## 3. Обновление дня рождения

**PUT /v1/users/{userId}/birthdays/{birthdayId}**

Обновление существующего дня рождения

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| userId | int | path | Уникальный идентификатор пользователя (chat_id) | да |
| birthdayId | int | path | Уникальный идентификатор дня рождения | да |
| name | string | body | Имя человека | да |
| birth_date | string | body | Дата рождения (YYYY-MM-DD) | да |
| info | string | body | Дополнительная информация о человеке | нет |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| success | boolean | body | Статус операции | да |
| message | string | body | Сообщение о результате операции | да |

**Response code: 200**

---

## 4. Удаление дня рождения

**DELETE /v1/users/{userId}/birthdays/{birthdayId}**

Удаление дня рождения

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| userId | int | path | Уникальный идентификатор пользователя (chat_id) | да |
| birthdayId | int | path | Уникальный идентификатор дня рождения | да |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| success | boolean | body | Статус операции | да |
| message | string | body | Сообщение о результате операции | да |

**Response code: 200**

---

## 5. Получение дней рождения на сегодня

**GET /v1/birthdays/today**

Получение всех дней рождения на сегодняшний день

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| - | - | - | - | - |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| date | string | body | Сегодняшняя дата (YYYY-MM-DD) | да |
| birthdays | array | body | Массив дней рождения на сегодня | да |
| birthday | object | body | Объект дня рождения | нет |
| id | int | body | Уникальный идентификатор дня рождения | да |
| name | string | body | Имя человека | да |
| birth_date | string | body | Дата рождения (YYYY-MM-DD) | да |
| info | string | body | Дополнительная информация о человеке | нет |
| chat_id | int | body | Идентификатор чата пользователя | да |

**Response code: 200**

---

## 6. Генерация идей подарков

**POST /v1/gifts/generate**

Генерация идей подарков с помощью AI

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| name | string | body | Имя человека для которого генерируются идеи | да |
| info | string | body | Дополнительная информация о человеке | нет |
| count | int | body | Количество идей подарков (по умолчанию 3) | нет |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| success | boolean | body | Статус операции | да |
| gift_ideas | array | body | Массив идей подарков | да |
| idea | string | body | Идея подарка | да |

**Response code: 200**

---

## 7. Получение статистики пользователей

**GET /v1/admin/users/stats**

Получение статистики пользователей (только для администраторов)

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| api_key | string | header | API ключ для авторизации | да |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| total_users | int | body | Общее количество пользователей | да |
| active_users | int | body | Количество активных пользователей за неделю | да |
| total_birthdays | int | body | Общее количество дней рождения | да |
| today_birthdays | int | body | Количество дней рождения на сегодня | да |

**Response code: 200**

---

## 8. Тестирование системы напоминаний

**POST /v1/admin/reminders/test**

Запуск тестовой проверки системы напоминаний (только для администраторов)

### Request

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| api_key | string | header | API ключ для авторизации | да |

### Response

| Название параметра | Тип данных | Находится в | Описание | Обязательность параметра |
|-------------------|------------|-------------|----------|-------------------------|
| success | boolean | body | Статус операции | да |
| reminders_sent | int | body | Количество отправленных напоминаний | да |
| message | string | body | Сообщение о результате операции | да |

**Response code: 200**

---

## Коды ошибок

| Код | Описание |
|-----|----------|
| 400 | Неверный запрос |
| 401 | Не авторизован |
| 403 | Доступ запрещен |
| 404 | Ресурс не найден |
| 409 | Конфликт данных |
| 500 | Внутренняя ошибка сервера |