import dotenv from 'dotenv';
import { MessageParser } from './src/messageParser.js';

dotenv.config();

const parser = new MessageParser();

// –¢–µ—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–∞–∑–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
const testMessages = [
    // –û–±—ã—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
    "–ê–Ω–Ω–∞, 15 –º–∞—Ä—Ç–∞, –º–æ—è —Å–µ—Å—Ç—Ä–∞",
    "–ü–µ—Ç—Ä 20.12.1990 –∫–æ–ª–ª–µ–≥–∞",
    
    // –î–∞—Ç–∞ –≤ –Ω–∞—á–∞–ª–µ
    "15 –º–∞—Ä—Ç–∞ –ê–Ω–Ω–∞ –º–æ—è —Å–µ—Å—Ç—Ä–∞",
    "20.12.1990 –ü–µ—Ç—Ä –∫–æ–ª–ª–µ–≥–∞",
    
    // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –Ω–∞—á–∞–ª–µ
    "–º–æ—è —Å–µ—Å—Ç—Ä–∞ –ê–Ω–Ω–∞ 15 –º–∞—Ä—Ç–∞",
    "–∫–æ–ª–ª–µ–≥–∞ –ü–µ—Ç—Ä 20.12.1990",
    
    // –° —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏
    "–ê–Ω–Ω–∞! 15 –º–∞—Ä—Ç–∞! –º–æ—è —Å–µ—Å—Ç—Ä–∞!",
    "–ü–µ—Ç—Ä, 20.12.1990, –∫–æ–ª–ª–µ–≥–∞",
    
    // –ë–µ–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    "–ê–Ω–Ω–∞ 15 –º–∞—Ä—Ç–∞",
    "15 –º–∞—Ä—Ç–∞ –ê–Ω–Ω–∞",
    
    // –°–ª–æ–∂–Ω—ã–µ —Å–ª—É—á–∞–∏
    "–º–æ—è –ª—é–±–∏–º–∞—è —Å–µ—Å—Ç—Ä–∞ –ê–Ω–Ω–∞ —Ä–æ–¥–∏–ª–∞—Å—å 15 –º–∞—Ä—Ç–∞ 1990 –≥–æ–¥–∞",
    "–∫–æ–ª–ª–µ–≥–∞ –ø–æ —Ä–∞–±–æ—Ç–µ –ü–µ—Ç—Ä 20 –¥–µ–∫–∞–±—Ä—è",
    "–ê–Ω–Ω–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ IT, 15.03.1990",
    
    // –¢–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞—Ç—ã
    "–ê–Ω–Ω–∞ —Ç—Ä–µ—Ç—å–µ–≥–æ –º–∞—Ä—Ç–∞ –º–æ—è —Å–µ—Å—Ç—Ä–∞",
    "–ü–µ—Ç—Ä –¥–≤–∞–¥—Ü–∞—Ç–æ–≥–æ –¥–µ–∫–∞–±—Ä—è –∫–æ–ª–ª–µ–≥–∞",
    
    // –° –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
    "–î–æ–±–∞–≤—å –ê–Ω–Ω—É 15 –º–∞—Ä—Ç–∞ –º–æ—è —Å–µ—Å—Ç—Ä–∞",
    "–ó–∞–ø–æ–º–Ω–∏ –ü–µ—Ç—Ä–∞ 20.12.1990 –∫–æ–ª–ª–µ–≥–∞ –ø–æ —Ä–∞–±–æ—Ç–µ"
];

console.log('üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–º–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π\n');

testMessages.forEach((message, index) => {
    console.log(`\n${index + 1}. –°–æ–æ–±—â–µ–Ω–∏–µ: "${message}"`);
    const result = parser.parseMessage(message);
    
    if (result.error) {
        console.log(`   ‚ùå –û—à–∏–±–∫–∞: ${result.error}`);
    } else {
        console.log(`   ‚úÖ –ò–º—è: ${result.name}`);
        console.log(`   ‚úÖ –î–∞—Ç–∞: ${result.originalDate}`);
        console.log(`   ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: ${result.info || '–Ω–µ —É–∫–∞–∑–∞–Ω–∞'}`);
    }
});

console.log('\nüéâ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!');