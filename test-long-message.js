// –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é createCombinedMessage —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
function createCombinedMessage(name, congratulations, giftIdea) {
    let message = `üéâ –°–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É ${name}!\n\n`;
    
    // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ
    if (congratulations) {
        message += `üíå ${congratulations}\n\n`;
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º –∏–¥–µ—é –ø–æ–¥–∞—Ä–∫–∞
    if (giftIdea) {
        message += `üéÅ ${giftIdea}`;
    }
    
    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 400 —Å–∏–º–≤–æ–ª–æ–≤
    if (message.length > 400) {
        // –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ, —Å–æ–∫—Ä–∞—â–∞–µ–º –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –∏–¥–µ—é –ø–æ–¥–∞—Ä–∫–∞
        const baseMessage = `üéâ –°–µ–≥–æ–¥–Ω—è –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è —É ${name}!\n\n`;
        const availableSpace = 400 - baseMessage.length;
        
        let congratulationsText = '';
        let giftIdeaText = '';
        
        if (congratulations && giftIdea) {
            // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ—Å—Ç–æ –ø–æ—Ä–æ–≤–Ω—É –º–µ–∂–¥—É –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ –∏–¥–µ–µ–π –ø–æ–¥–∞—Ä–∫–∞
            const spacePerPart = Math.floor(availableSpace / 2) - 10; // 10 —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ —ç–º–æ–¥–∑–∏ –∏ –ø–µ—Ä–µ–Ω–æ—Å—ã
            
            congratulationsText = congratulations.length > spacePerPart 
                ? congratulations.substring(0, spacePerPart - 3) + '...'
                : congratulations;
                
            giftIdeaText = giftIdea.length > spacePerPart 
                ? giftIdea.substring(0, spacePerPart - 3) + '...'
                : giftIdea;
                
            message = `${baseMessage}üíå ${congratulationsText}\n\nüéÅ ${giftIdeaText}`;
        } else if (congratulations) {
            congratulationsText = congratulations.length > availableSpace - 5
                ? congratulations.substring(0, availableSpace - 8) + '...'
                : congratulations;
            message = `${baseMessage}üíå ${congratulationsText}`;
        } else if (giftIdea) {
            giftIdeaText = giftIdea.length > availableSpace - 5
                ? giftIdea.substring(0, availableSpace - 8) + '...'
                : giftIdea;
            message = `${baseMessage}üéÅ ${giftIdeaText}`;
        }
    }
    
    return message;
}

// –¢–µ—Å—Ç —Å –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
const longCongratulations = "–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è! –ñ–µ–ª–∞—é –∫—Ä–µ–ø–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è, —Å—á–∞—Å—Ç—å—è, —É—Å–ø–µ—Ö–æ–≤ –≤–æ –≤—Å–µ—Ö –Ω–∞—á–∏–Ω–∞–Ω–∏—è—Ö, –ª—é–±–≤–∏, —Ä–∞–¥–æ—Å—Ç–∏, –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏—è, –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –º–µ—á—Ç–∞–Ω–∏–π, –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π, –≤–µ—Ä–Ω—ã—Ö –¥—Ä—É–∑–µ–π, —Å–µ–º–µ–π–Ω–æ–≥–æ —Å—á–∞—Å—Ç—å—è, –∫–∞—Ä—å–µ—Ä–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞, —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö —É—Å–ø–µ—Ö–æ–≤, —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏—è –∏ –≤—Å–µ–≥–æ —Å–∞–º–æ–≥–æ –Ω–∞–∏–ª—É—á—à–µ–≥–æ! –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –ø—Ä–∏–Ω–æ—Å–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —ç–º–æ—Ü–∏–∏ –∏ —Ä–∞–¥–æ—Å—Ç–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã!";
const longGiftIdea = "–î–ª—è –ø–æ–¥–∞—Ä–∫–∞ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —á—Ç–æ-—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ–µ: –∫–Ω–∏–≥–∏ –ø–æ –ª—é–±–∏–º—ã–º —Ç–µ–º–∞–º, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤ —Å–ø–∞-—Å–∞–ª–æ–Ω, –±–∏–ª–µ—Ç—ã –Ω–∞ –∫–æ–Ω—Ü–µ—Ä—Ç –∏–ª–∏ —Å–ø–µ–∫—Ç–∞–∫–ª—å, —É–∫—Ä–∞—à–µ–Ω–∏—è, –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—é, –ø—Ä–µ–¥–º–µ—Ç—ã –¥–ª—è —Ö–æ–±–±–∏, –ø–æ–¥–∞—Ä–æ—á–Ω—ã–µ –∫–∞—Ä—Ç—ã –≤ –ª—é–±–∏–º—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã, —Ü–≤–µ—Ç—ã, —à–æ–∫–æ–ª–∞–¥, –≤–∏–Ω–æ, –ø—Ä–µ–¥–º–µ—Ç—ã –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞, —Ç–µ—Ö–Ω–∏–∫—É, –æ–¥–µ–∂–¥—É, –æ–±—É–≤—å, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, —Ç–æ–≤–∞—Ä—ã –¥–ª—è –¥–æ–º–∞, —Å—É–≤–µ–Ω–∏—Ä—ã, –∫–∞—Ä—Ç–∏–Ω—ã, —Å–∫—É–ª—å–ø—Ç—É—Ä—ã, –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∏–≥—Ä—ã, –∏–≥—Ä—É—à–∫–∏, –ø—Ä–µ–¥–º–µ—Ç—ã –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ!";

console.log('–¢–µ—Å—Ç —Å –¥–ª–∏–Ω–Ω—ã–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏:');
console.log('=========================\n');

const result = createCombinedMessage("–ê–ª–µ–∫—Å–∞–Ω–¥—Ä", longCongratulations, longGiftIdea);

console.log(`–î–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è: ${result.length} —Å–∏–º–≤–æ–ª–æ–≤`);
console.log(`–°–æ–æ–±—â–µ–Ω–∏–µ:`);
console.log(result);
console.log('\n');

// –ü—Ä–æ–≤–µ—Ä–∏–º, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 400 —Å–∏–º–≤–æ–ª–æ–≤
if (result.length <= 400) {
    console.log('‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 400 —Å–∏–º–≤–æ–ª–æ–≤');
} else {
    console.log('‚ùå –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 400 —Å–∏–º–≤–æ–ª–æ–≤!');
}